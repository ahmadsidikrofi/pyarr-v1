<!-- Font Awesome -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
<!-- MDB -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.1.0/mdb.min.css" rel="stylesheet" />
<<<<<<< HEAD

<section style="background-color: #eee;">
    <div class="container py-5">
        <div class="row">
            <div class="col">
                <nav aria-label="breadcrumb" class="bg-light rounded-3 p-3 mb-4">
                    <ol class="breadcrumb mb-0">
                        <li class="breadcrumb-item"><a href="#">Home</a></li>
                        <li class="breadcrumb-item"><a href="#">User</a></li>
                        <li class="breadcrumb-item active" aria-current="page">User Profile</li>
                    </ol>
                </nav>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-4">
                <div class="card mb-4">
                    <div class="card-body text-center">
                        <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava3.webp"
                            alt="avatar" class="rounded-circle img-fluid" style="width: 150px;">
                        <h5 class="my-3">John Smith</h5>
                        <p class="text-muted mb-1">Full Stack Developer</p>
                        <p class="text-muted mb-4">Bay Area, San Francisco, CA</p>
                        <div class="d-flex justify-content-center mb-2">
                            <button type="button" class="btn btn-primary">Follow</button>
                            <button type="button" class="btn btn-outline-primary ms-1">Message</button>
                        </div>
                    </div>
                </div>
                <div class="card mb-4 mb-lg-0">
                    <div class="card-body p-0">
                        <ul class="list-group list-group-flush rounded-3">
                            <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                                <i class="fas fa-globe fa-lg text-warning"></i>
                                <p class="mb-0">https://mdbootstrap.com</p>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                                <i class="fab fa-github fa-lg" style="color: #333333;"></i>
                                <p class="mb-0">mdbootstrap</p>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                                <i class="fab fa-twitter fa-lg" style="color: #55acee;"></i>
                                <p class="mb-0">@mdbootstrap</p>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                                <i class="fab fa-instagram fa-lg" style="color: #ac2bac;"></i>
                                <p class="mb-0">mdbootstrap</p>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                                <i class="fab fa-facebook-f fa-lg" style="color: #3b5998;"></i>
                                <p class="mb-0">mdbootstrap</p>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-lg-8">
                <div class="card mb-4">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-sm-3">
                                <p class="mb-0">Full Name</p>
                            </div>
                            <div class="col-sm-9">
                                <p class="text-muted mb-0">Johnatan Smith</p>
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-3">
                                <p class="mb-0">Email</p>
                            </div>
                            <div class="col-sm-9">
                                <p class="text-muted mb-0">example@example.com</p>
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-3">
                                <p class="mb-0">Phone</p>
                            </div>
                            <div class="col-sm-9">
                                <p class="text-muted mb-0">(097) 234-5678</p>
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-3">
                                <p class="mb-0">Mobile</p>
                            </div>
                            <div class="col-sm-9">
                                <p class="text-muted mb-0">(098) 765-4321</p>
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-3">
                                <p class="mb-0">Address</p>
                            </div>
                            <div class="col-sm-9">
                                <p class="text-muted mb-0">Bay Area, San Francisco, CA</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="card mb-4 mb-md-0">
                            <div class="card-body">
                                <p class="mb-4"><span class="text-primary font-italic me-1">assigment</span> Project
                                    Status
                                </p>
                                <p class="mb-1" style="font-size: .77rem;">Web Design</p>
                                <div class="progress rounded" style="height: 5px;">
                                    <div class="progress-bar" role="progressbar" style="width: 80%" aria-valuenow="80"
                                        aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                                <p class="mt-4 mb-1" style="font-size: .77rem;">Website Markup</p>
                                <div class="progress rounded" style="height: 5px;">
                                    <div class="progress-bar" role="progressbar" style="width: 72%" aria-valuenow="72"
                                        aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                                <p class="mt-4 mb-1" style="font-size: .77rem;">One Page</p>
                                <div class="progress rounded" style="height: 5px;">
                                    <div class="progress-bar" role="progressbar" style="width: 89%" aria-valuenow="89"
                                        aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                                <p class="mt-4 mb-1" style="font-size: .77rem;">Mobile Template</p>
                                <div class="progress rounded" style="height: 5px;">
                                    <div class="progress-bar" role="progressbar" style="width: 55%" aria-valuenow="55"
                                        aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                                <p class="mt-4 mb-1" style="font-size: .77rem;">Backend API</p>
                                <div class="progress rounded mb-2" style="height: 5px;">
                                    <div class="progress-bar" role="progressbar" style="width: 66%" aria-valuenow="66"
                                        aria-valuemin="0" aria-valuemax="100"></div>
=======
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">

<style>
    input[readonly] {
        background-color: #c4c4c4;
        /* color: #fff; */
        border-radius: 10px;
    }

    .img-wrap {
        position: relative;
        display: inline-block;
        font-size: 0;
    }

    .img-wrap .close {
        position: absolute;
        top: 2px;
        right: 2px;
        z-index: 100;
        background-color: #f85555;
        padding: 10px 8px 8px;
        color: #000;
        font-weight: bold;
        cursor: pointer;
        opacity: .2;
        text-align: center;
        font-size: 22px;
        line-height: 10px;
        border-radius: 50%;
    }

    .img-wrap:hover .close {
        opacity: 1;
        transition: ease-in 1s;
        transform: translate(9px);
    }
</style>

<body>
    <section class="" style="background-color: #3f3f3f;">
        <div class="container py-5">
            <div class="row">
                <div class="col">
                    <nav aria-label="breadcrumb" class="bg-light rounded-3 p-3 mb-4" data-aos="fade-up">
                        <ol class="breadcrumb mb-0">
                            <li class="breadcrumb-item active fs-1 fw-semibold mx-auto" aria-current="page">Profile</li>
                        </ol>
                    </nav>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-4">
                    <div class="card mb-4" data-aos="zoom-in-right">
                        <form action="/profile/{{ Auth::user()->id }}/profile-picture" method="post" enctype="multipart/form-data">
                            @csrf
                            <div class="card-body text-center">
                                @if (Auth::user()->profile_pic == null)
                                    <div class="img-wrap">
                                        <span class="close">
                                            <a href="/Readteracy/account/{{ Auth::user()->id }}/delete/profile-picture">
                                                <i class="bi bi-trash2"
                                                    style="font-size: 1.5rem; color: rgb(255, 255, 255);">
                                                </i>
                                            </a>
                                        </span>
                                        <img src="https://ui-avatars.com/api/?name={{ urlencode(Auth::user()->username) }}&background=random&color=28a745"
                                            alt="avatar" class="rounded-circle img-fluid" style="width: 150px;"
                                            id="image_preview">
                                    </div>
                                @else
                                    <div class="img-wrap">
                                        <span class="close">
                                            <a href="/Readteracy/account/{{ Auth::user()->id }}/delete/profile-picture">
                                                <i class="bi bi-trash3"
                                                    style="font-size: 1.5rem; color: rgb(255, 255, 255);"></i>
                                            </a>
                                        </span>
                                        <img src="/assets/images/profile/{{ Auth::user()->profile_pic }}" alt="avatar"
                                            class="rounded-circle" width="200" height="200"
                                            id="image_preview">
                                    </div>
                                @endif
                                <div class="col mt-3">
                                    <label for="profile_pic" class="btn btn-dark"><i class="fa-solid fa-upload"></i> Pilih gambar</label>
                                    <input type="file" name="profile_pic" class="form-control" id="profile_pic"
                                        style="display: none;">
                                    <button class="btn btn-primary mt-3" name="updatePic">Ubah Gambar</button>
                                    <hr>
                                </div>
                                <h5 class="my-3">{{ Auth::user()->username }}</h5>

                                <div class="d-flex justify-content-center gap-1">
                                    <p class="text-muted">
                                        @if (Auth::user()->is_admin === 0)
                                        <p class="text-muted mb-4">Member</p>
                                        @else
                                        <p class="text-muted mb-4">Admin</p>
                                        @endif
                                    </p>
                                    <span class="fw-semibold" style="color: #711DB0">{{ Auth::user()->gender }}</span>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="card mb-4 mb-md-0" data-aos="zoom-in-up">
                        <div class="card-body">
                            <p class="mb-4"><span class="text-primary font-italic me-1">Mini History</span>of {{ Auth::user()->username }}</p>
                            {{-- @if ($peminjaman->isEmpty())
                                <div class="mb-0">
                                    <h6 class="text-danger">Kamu belum meminjam buku apapun nih</h6>
                                    <img data-aos="fade-up" data-aos-duration="70000" src="/img/emptyBook.gif" width="60px" height="60" alt="">
                                    <img data-aos="fade-up" data-aos-duration="1000000" src="/img/emptyBook.gif" width="130px" height="120" alt="">
                                    <img data-aos="fade-up" data-aos-duration="900000" src="/img/emptyBook.gif" width="90px" height="80" alt="">
                                </div>
                            @else
                                @foreach ($peminjaman as $borrow)
                                    <div class="row mb-2">
                                        <p class="mb-1 fw-bold">{{ $borrow->judul }}</p>
                                        <div class="col-xl-3">
                                            <img src="/img/buku/{{ $borrow->image }}" width="80px" alt="">
                                        </div>
                                        <div class="col-xl-7">
                                            <?php
                                            $sinopsis = $borrow->sinopsis;
                                            if (strlen($sinopsis) > 10) {
                                                $sinopsis = Str::substr($sinopsis, 0, 50) .'...';
                                                echo $sinopsis;
                                            }
                                            ?>
                                        </div>
                                        <form action="/Readteracy/return-book" method="post">
                                            @csrf
                                            <input type="hidden" value="{{ $borrow->id }}" name="id">
                                            <input type="hidden" value="{{ $borrow->user_id }}" name="user_id">
                                            <input type="hidden" value="{{ $borrow->book_id }}" name="book_id">
                                            @if ($borrow->tipe === 'Fisik' && $borrow->status === 'dikembalikan')
                                                <a href="/Readteracy/detail/buku/{{ $borrow->book_id }}" class="btn btn-primary btn-sm mt-3">Pinjam lagi</a>
                                            @elseif ($borrow->tipe === 'Fisik')
                                                <button class="btn btn-sm btn-dark mt-3" name="return_book">Return book</button>
                                            @endif
                                        </form>
                                    </div>
                                    <hr>
                                    @endforeach
                                    <span>click here to see more <a href="/Readteracy/history/borrowed">my libraries</a></span>
                            @endif --}}
                        </div>
                    </div>
                </div>
                <div class="col-lg-8" data-aos="zoom-in-left">
                    <div class="card mb-4">
                        <form action="/profile/update" method="post">
                            @csrf
                            @method('put')
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <p class="mb-0">Name</p>
                                    </div>
                                    <div class="col-sm-4">
                                        <input class="form-control" id="nameInput" type="text"
                                            value="{{ Auth::user()->username }}" name="username" readonly>
                                    </div>
                                    <div class="col offset-sm-3">
                                        <a class="btn btn-dark rounded-4" id="nameButton"><i class="fa-solid fa-pen-to-square"></i></a>
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <p class="mb-0">Email</p>
                                    </div>
                                    <div class="col-sm-4">
                                        <input class="form-control" id="emailInput" type="text"
                                            value="{{ Auth::user()->email }}" readonly>
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <p class="mb-0">Mobile</p>
                                    </div>
                                    <div class="col-sm-4">
                                        @if (Auth::user()->no_hp === null)
                                            <input class="form-control" id="no_hpInput" type="text"
                                                placeholder="No hp tidak tercantum" name="no_hp"
                                                inputmode="numeric" readonly>
                                        @else
                                            <input class="form-control" id="no_hpInput" type="text"
                                                value="{{ Auth::user()->no_hp }}" name="no_hp" inputmode="numeric"
                                                readonly>
                                        @endif
                                    </div>
                                    <div class="col offset-sm-3">
                                        <a class="btn btn-dark rounded-4" id="no_hpButton"><i class="fa-solid fa-pen-to-square"></i></a>
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <p class="mb-0">Address</p>
                                    </div>
                                    <div class="col-sm-4">
                                        @if (Auth::user()->alamat == null)
                                            <input class="form-control" id="alamatInput" type="text"
                                                placeholder="Belum memiliki alamat" name="alamat" readonly>
                                        @else
                                            <input class="form-control" id="alamatInput" type="text"
                                                value="{{ Auth::user()->alamat }}" name="alamat" readonly>
                                        @endif
                                    </div>
                                    <div class="col offset-sm-3">
                                        <a class="btn btn-dark rounded-4" id="alamatButton"><i class="fa-solid fa-pen-to-square"></i></a>
                                    </div>
                                </div>

                                <hr>
                                <div class="row">
                                    <button type="submit" name="updateProfile" class="btn btn-dark">Update Profile</button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card mb-4 mb-md-0">
                                <div class="card-body">
                                    <p class="mb-4"><span class="text-primary font-italic me-1">assigment</span> Project
                                        Status
                                    </p>
                                    <p class="mb-1" style="font-size: .77rem;">Web Design</p>
                                    <div class="progress rounded" style="height: 5px;">
                                        <div class="progress-bar" role="progressbar" style="width: 80%" aria-valuenow="80"
                                            aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <p class="mt-4 mb-1" style="font-size: .77rem;">Website Markup</p>
                                    <div class="progress rounded" style="height: 5px;">
                                        <div class="progress-bar" role="progressbar" style="width: 72%"
                                            aria-valuenow="72" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <p class="mt-4 mb-1" style="font-size: .77rem;">One Page</p>
                                    <div class="progress rounded" style="height: 5px;">
                                        <div class="progress-bar" role="progressbar" style="width: 89%"
                                            aria-valuenow="89" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <p class="mt-4 mb-1" style="font-size: .77rem;">Mobile Template</p>
                                    <div class="progress rounded" style="height: 5px;">
                                        <div class="progress-bar" role="progressbar" style="width: 55%"
                                            aria-valuenow="55" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <p class="mt-4 mb-1" style="font-size: .77rem;">Backend API</p>
                                    <div class="progress rounded mb-2" style="height: 5px;">
                                        <div class="progress-bar" role="progressbar" style="width: 66%"
                                            aria-valuenow="66" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
>>>>>>> origin/dev
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
<<<<<<< HEAD
    </div>
</section>
=======
    </section>

    <script src="https://code.jquery.com/jquery-3.6.4.js" integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E="
        crossorigin="anonymous"></script>
    <script src="/assets/js/profile.js"></script>
    <script src="/js/aos.js"></script>
    <script src="/js/bootstrap.bundle.min.js"></script>
    <script src="/plugins/ijabocrop/ijaboCropTool.min.js"></script>
    <script>
        AOS.init({
            duration: 800, // values from 0 to 3000, with step 50ms
        });
    </script>

    <script>
        $(document).on('click', '#change_pic_btn', function() {
            $('#profile_pic').click();
        });
    </script>
</body>
>>>>>>> origin/dev
